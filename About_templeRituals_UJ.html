<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Rituals of Ujjain</title>
    <!-- ... (Your existing CSS styles) ... -->
     <style>
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-image: url('https://static.toiimg.com/photo/msid-94055833,width-96,height-65.cms');
     /* Path to your background image */
    background-repeat: no-repeat;
    background-size: cover;
    background-attachment: fixed; /* Cover the entire background */
    background-position: center; /* Center the background image */
}

header {
    text-align: center;
    background-color: rgba(9, 24, 39, 0.37); /* Semi-transparent background for the header */
    color: white;
    padding: 10px 0;
}
P{
    color: white;
    font-size:x-large;
    font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif
}
h1{
    color: white;
    font-size:xx-large;
}
h2{
    color: white;
}
li{
    color: white;
}
nav {
    text-align: center; /* Center the navigation content */
}
nav ul {
    list-style-type: none;
    padding: 0;
}

nav ul li {
    display: inline;
    margin-right: 20px;
}

nav ul li a {
    color: white;
    text-decoration: none;
}

main {
    padding: 20px;
}

.content {
    background-color: rgba(13, 13, 14, 0.616); /* Semi-transparent white background for the text area */
    padding: 5px;
    border-radius: 8px; /* Rounded corners */
}
.content1 {
    background-color: rgb(15, 15, 15); /* Semi-transparent white background for the text area */
    padding: 3px;
    border-radius: 0px;/* Rounded corners */
    width: 80%; /* Set a predefined width */
    max-width: 1200px; /* Optional: limit max width */
    margin: 0 auto;
    margin-top: 10px; /* Center the layout */
    display: flex; /* Flexbox for item alignment if needed */
    justify-content: center;
}

.image-gallery {
    width: 100%;
    overflow: hidden;
    position: relative;
    white-space: nowrap;
}

.image-gallery img {
    width: 100%;
    height: auto;
    display: inline-block;
}
footer {
    text-align: center;
    padding: 10px 0;
    background-color: rgba(9, 24, 39, 0.37); /* Semi-transparent background for the footer */
    color: white;
}
        /* Dropdown Menu Styles */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: rgb(14, 13, 13);
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: rgb(255, 255, 255);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

        .dropdown-content a:hover {
            background-color: #f1f1f15b;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }
    </style>
</head>
<body>
    <div class="content1">
        <nav>
            <ul>
                <li><a href="india_pilgrimage_map.html">Home</a></li>
                <li class="dropdown">
                  <a href="indexKS.html">About</a>
                  <div class="dropdown-content">
                      <a href="indexUJ.html">About Ujjain</a>
                      <a href="About_temple_UJ.html">About Ujjain Mahakal Temple</a>
                      <a href="About_templeRituals_UJ.html">Rituals and Festivals of Ujjain Mahakal Temple</a>
                  </div>
              </li>
                <li><a href="GalleryUJ.html">Gallery</a></li>
                <li><a href="VideoUJ.html">Videos</a></li>
                <li><a href="AR_UJ.html">Virtual Tour</a></li>
                <li><a href="AudioUJ.html">Audio</a></li>
                <li><a href="LocationUJ.html">Location</a></li>
                <li class="dropdown">
                    <a href="TripUJ.html">Plan a trip!</a>
                    <div class="dropdown-content">
                        <a href="Rules_UJ.html">Tips and Rules to Note</a>
                        <a href="Trip_UJ.html">How to reach/Transport</a>
                        <a href="trawell.html">Other tourist attractions</a>
                    </div>
                </li>
            </ul>
        </nav>
    </div><br>
    <!-- Assuming this page is now about Madurai, let's update the header -->
    <header>
        <h1 >Ujjain</h1> <!-- Added ID for the title -->
    </header>


    <main>
      <!-- ... (Your existing marquee and image gallery) ... -->
        <div class="content">
            <section>
                <h1><b><u>Rituals of Ujjain Mahakal Temple</u></b></h1>
                <h2><b><u>Chaitra to Ashwin</u></b></h2>
                <!-- The main heading might also come from Firebase -->
                <h2><b>Bhasma Aarti: 4 AM to 6 AM</b></h2> <ul><li><p id="Ujjain-ritual1"></p></li>
              <li>  <p id="Ujjain-ritual2"></p></li>
              <li>  <p id="Ujjain-ritual3"></p> </li></ul><!-- Added ID for section heading -->

                 <!-- Placeholder for the first paragraph -->
                <h2><b>Dadyodak Aarti: 7:00 AM to 7:30 AM</b></h2><ul><li><p id="Ujjain-ritual4"></p></li>
                <li><p id="Ujjain-ritual5"></p></li></ul>
                 <!-- Placeholder for the second paragraph -->
              <h2><b>Bhog Aarti: 10:00 AM to 10:30 AM</b></h2> <ul><li> <p id="Ujjain-ritual6"></p></li></ul>
              <h2><b>Sandhya Aarti: 7:00 PM to 7:30PM</b></h2><ul><li><p id="Ujjain-ritual7"></p></li></ul>
              <h2><b>Shayan Aarti: 10:30 PM to 11 PM</b></h2>  <ul><li><p id="Ujjain-ritual8"></p></li> <li><p id="Ujjain-ritual9"></p></li><li><p id="Ujjain-ritual10"></p></li></ul>
              <h2><b><u>Kartik to Falgun</u></b></h2>
              <h2><b>Bhasm Aarti: 4 AM to 6 AM in Early Morning</b></h2>  
             <h2><b>Dadyodak Aarti: 7:30AM to 8:00 AM in Morning</b></h2>  
             <h2><b>Bhog Aarti: From 10:30 AM to 11:00 AM in Winter</b></h2>  
             <h2><b>Sandhya Aarti: 7:30 PM to 8:00PM</b></h2> 
             <h2><b>Shayan Aarti: 10:30 PM to 11 PM</b></h2> 

            </section>
            
        </div>
    </main>
    <!-- ... (Your existing Jotform and GTranslate scripts) ... -->
     <script src='https://cdn.jotfor.ms/s/umd/latest/for-embedded-agent.js'></script>
<script>
  window.addEventListener("DOMContentLoaded", function() {
    window.AgentInitializer.init({
      agentRenderURL: "https://agent.jotform.com/01954d5c8cf57a97af8ecd34a23be002ac1d",
      rootId: "JotformAgent-01954d5c8cf57a97af8ecd34a23be002ac1d",
      formID: "01954d5c8cf57a97af8ecd34a23be002ac1d",
      queryParams: ["skipWelcome=1", "maximizable=1"],
      domain: "https://www.jotform.com",
      isDraggable: false,
      background: "linear-gradient(180deg, #6a906d 0%, #3f614f 100%)",
      buttonBackgroundColor: "#0066C3",
      buttonIconColor: "#FFFFFF",
      variant: false,
      customizations: {
        "greeting": "Yes",
        "greetingMessage": "Hi! How can I assist you?",
        "pulse": "Yes",
        "position": "right",
        "autoOpenChatIn": "0"
      },
      isVoice: undefined
    });
  });
</script>
    <footer>
        <div class="gtranslate_wrapper"></div>
        <script>window.gtranslateSettings = {"default_language":"en","wrapper_selector":".gtranslate_wrapper","horizontal_position":"left","vertical_position":"bottom"}</script>
        <script src="https://cdn.gtranslate.net/widgets/latest/dropdown.js" defer></script>
        <script>if ("speechSynthesis" in window) {
            let utterance = null;

            function readSelectedText() {
              let selectedText = window.getSelection().toString();
              if (selectedText.length > 0) {
                utterance = new SpeechSynthesisUtterance(selectedText);
                utterance.rate = 0.8;
                window.speechSynthesis.speak(utterance);
              }
            }

            function stopSpeaking() {
              if (utterance) {
                window.speechSynthesis.cancel();
              }
            }

            document.addEventListener("mouseup", readSelectedText);
            document.addEventListener("click", function (event) {
              let selectedText = window.getSelection().toString();
              if (!selectedText && event.target !== document) {
                stopSpeaking();
              }
            });
          } else {
            console.log("not supported");
          }</script>
          <h3>Om Namaha Shivay!
          </h3>
    </footer>
</body>
<!-- Link your script AFTER the elements it needs to find -->
<script type="module">
    // script.js

// 1. Your Firebase Project Configuration (Keep this section as you confirmed it's correct)
const firebaseConfig = {
    apiKey: "AIzaSyDsgc4mN1JVQGUejZQRlGrZdy4HkwVeCw4",
    authDomain: "pilgrimagesofbharat.firebaseapp.com",
    databaseURL: "https://pilgrimagesofbharat-default-rtdb.firebaseio.com",
    projectId: "pilgrimagesofbharat",
    storageBucket: "pilgrimagesofbharat.firebasestorage.app",
    messagingSenderId: "773316089095",
    appId: "1:773316089095:web:abd16879b82357961a21a2",
    measurementId: "G-4RDPT4NDTD"
};

// 2. Initialize Firebase - Using the corrected full CDN import paths
//    *** Ensure the version number matches the one in your index.html script tags! ***
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-database.js";

const app = initializeApp(firebaseConfig);
const database = getDatabase(app);

// 3. Get references to ALL the HTML elements where you want to display data
//    These IDs should match the ones you added in your HTML file
const cityTitleElement = document.getElementById('city-title');
const ujjainritual1Element = document.getElementById('Ujjain-ritual1');
const ujjainritual2Element = document.getElementById('Ujjain-ritual2');
const ujjainritual3Element = document.getElementById('Ujjain-ritual3');
const ujjainritual4Element = document.getElementById('Ujjain-ritual4');
const ujjainritual5Element = document.getElementById('Ujjain-ritual5');
const ujjainritual6Element = document.getElementById('Ujjain-ritual6');
const ujjainritual7Element = document.getElementById('Ujjain-ritual7');
const ujjainritual8Element = document.getElementById('Ujjain-ritual8');
const ujjainritual9Element = document.getElementById('Ujjain-ritual9');
const ujjainritual10Element = document.getElementById('Ujjain-ritual10');
const ujjainritual11Element = document.getElementById('Ujjain-ritual11');

const keyrmListElement = document.getElementById('key-rm-list'); // Assuming you have a <ul> with this ID


// 4. Define a reference to the parent node containing all the data for "About Ujjain"
const aboutUjjainRitualRef = ref(database, '/Ujjain/Rituals');


// 5. --- Listening for Realtime Changes to the ENTIRE 'About Ujjain' Object ---
//    When data is received (initially and on any change), the callback function runs.
onValue(aboutUjjainRitualRef, (snapshot) => {
    // Check if data exists at the referenced path
    if (snapshot.exists()) {
        const ujjainritualData = snapshot.val(); // Get the entire object from this path
        console.log("Data fetched for About Ujjain:", ujjainritualData);

        // Now, check if each HTML element exists and update it
        // Access individual pieces of data from the ujjainritualData object using BRACKET NOTATION for numerical keys

        if (ujjainritual1Element) {
            // Access key '1' using bracket notation
            ujjainritual1Element.innerHTML = ujjainritualData['1'] || 'Ujjain'; // Corrected!
        }

        if (ujjainritual2Element) {
             // Access key '2' using bracket notation
             ujjainritual2Element.innerHTML = ujjainritualData['2'] || 'About Ujjain Temple'; // Corrected!
        }

        if (ujjainritual3Element) {
             // Access key '3' using bracket notation
            ujjainritual3Element.innerHTML = ujjainritualData['3'] || 'Paragraph 3 not available.'; // Corrected!
        }

        if (ujjainritual4Element) {
            // Access key '4' using bracket notation
           ujjainritual4Element.innerHTML = ujjainritualData['4'] || 'Paragraph 4 not available.'; // Corrected!
        }
        if (ujjainritual5Element) {
            // Access key '5' using bracket notation
           ujjainritual5Element.innerHTML = ujjainritualData['5'] || 'Paragraph 5 not available.'; // Corrected!
        }
        if (ujjainritual6Element) {
            // Access key '6' using bracket notation
           ujjainritual6Element.innerHTML = ujjainritualData['6'] || 'Paragraph 6 not available.'; // Corrected!
        }
        if (ujjainritual7Element) {
            // Access key '7' using bracket notation
           ujjainritual7Element.innerHTML = ujjainritualData['7'] || 'Paragraph 7 not available.'; // Corrected!
        }
        if (ujjainritual8Element) {
            // Access key '8' using bracket notation
           ujjainritual8Element.innerHTML = ujjainritualData['8'] || 'Paragraph 8 not available.'; // Corrected!
        }
        if (ujjainritual9Element) {
            // Access key '9' using bracket notation
           ujjainritual9Element.innerHTML = ujjainritualData['9'] || 'Paragraph 9 not available.'; // Corrected!
        }
        if (ujjainritual10Element) {
            // Access key '10' using bracket notation
           ujjainritual10Element.innerHTML = ujjainritualData['10'] || 'Paragraph 10 not available.'; // Corrected!
        }
        if (ujjainritual11Element) {
            // Access key '11' using bracket notation
           ujjainritual11Element.innerHTML = ujjainritualData['11'] || 'Paragraph 11 not available.'; // Corrected!
        }
        if (keyrmListElement) {
            // Assuming you have a nested object or array for 'keyFacts'
            keyrmListElement.innerHTML = ''; // Clear the list first

            // Make sure the key 'keyFacts' exists before trying to iterate
            if (kashiritualData.keyFacts && typeof kashiritualData.keyFacts === 'object') {
                 // Iterate through the keyFacts object and add list items
                 // Object.entries works fine even if keys are numbers within the nested object
                 Object.entries(kashiritualData.keyFacts).forEach(([key, value]) => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `<strong>${key}:</strong> ${value}`;
                    keyrmListElement.appendChild(listItem);
                 });
            } else {
                 keyrmListElement.innerHTML = '<li>Key facts not available.</li>';
            }
        }


    } else {
        // If no data exists at the path
        console.log("No data available at /Kashi/About Kashi");
        // Set all elements to a default "not available" state
        if (cityTitleElement) cityTitleElement.innerHTML = 'Data Not Found';
        if (sectionHeadingElement) sectionHeadingElement.innerHTML = 'Section Not Available';
        if (kashiritual1Element) kashiritual1Element.innerHTML = 'Description data not found.';
        if (kashiritual2Element) kashiritual2Element.innerHTML = ''; // Or a specific message
         if (keyrmListElement) keyrmListElement.innerHTML = '<li>Facts data not found.</li>';
    }

}, (error) => {
    // Handle any errors during the listening process
    console.error("Error fetching data for About Kashi:", error);
     // Set all elements to an error state
    if (cityTitleElement) cityTitleElement.innerHTML = 'Error';
    if (sectionHeadingElement) sectionHeadingElement.innerHTML = 'Error Loading';
    if (kashiritual1Element) kashiritual1Element.innerHTML = 'Error loading description data.';
    if (kashiritual2Element) kashiritual2Element.innerHTML = ''; // Or a specific message
    if (keyrmListElement) keyrmListElement.innerHTML = '<li>Error loading facts.</li>';
});


console.log("Firebase script loaded and initialized for Kashi page.");
// --- You would add other functions here if needed for interactive parts of this page ---
// (e.g., functions for buttons, etc., using data fetched here or separate fetches)
</script>
</html>
